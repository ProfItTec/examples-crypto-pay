/**
 * ═══════════════════════════════════════════════════════════════
 * MERCHANT SERVER CONFIGURATION
 * ═══════════════════════════════════════════════════════════════
 * 
 * Скопируйте этот файл как config.js и заполните значения:
 *   cp config.example.js config.js
 * 
 * Или используйте .env файл (см. .env.example)
 * 
 * ═══════════════════════════════════════════════════════════════
 */

module.exports = {
  // ─────────────────────────────────────────────────────────────
  // СЕРВЕР
  // ─────────────────────────────────────────────────────────────
  
  /**
   * Порт сервера мерчанта
   * Фронтенд мерчанта будет отправлять запросы на этот порт
   */
  port: 4000,

  // ─────────────────────────────────────────────────────────────
  // ПОДКЛЮЧЕНИЕ К ПЛАТЁЖНОМУ ШЛЮЗУ
  // ─────────────────────────────────────────────────────────────

  /**
   * URL платёжного шлюза
   * 
   * Локальная разработка: http://localhost:3000
   * Production: https://api.kazik.graniumlab.com
   */
  paymentGatewayUrl: 'https://api.kazik.graniumlab.com',

  /**
   * API ключ мерчанта
   * 
   * Как получить:
   *   cd kazik-back
   *   npm run create-merchant
   * 
   * Формат: pk_test_... или pk_live_...
   */
  apiKey: 'pk_test_your_api_key_here',

  /**
   * Webhook секрет для проверки подписей
   * 
   * Выдаётся при создании мерчанта вместе с API ключом.
   * Используется для проверки что webhook пришёл от шлюза.
   * 
   * Формат: whsec_...
   */
  webhookSecret: 'whsec_your_webhook_secret_here',

  // ─────────────────────────────────────────────────────────────
  // SITE KEY (ОБЯЗАТЕЛЬНО!)
  // ─────────────────────────────────────────────────────────────

  /**
   * ⚠️ Site Key - ОБЯЗАТЕЛЬНЫЙ ключ сайта
   * 
   * Передаётся в HTTP header X-Site-Key для ВСЕХ API запросов.
   * Без этого ключа API запросы не будут работать!
   * 
   * Для чего нужен:
   *   - Идентификация сайта мерчанта
   *   - Привязка платежей к конкретному сайту
   *   - Каждый сайт имеет свои кошельки и настройки
   * 
   * У одного мерчанта может быть несколько сайтов:
   *   - shop.example.com (site_key_1)
   *   - app.example.com (site_key_2)
   * 
   * Как получить:
   *   cd kazik-back
   *   npm run create-site
   * 
   * Формат: sk_...
   */
  siteKey: 'sk_your_site_key_here',

  // ─────────────────────────────────────────────────────────────
  // WEBSOCKET (опционально)
  // ─────────────────────────────────────────────────────────────

  /**
   * WebSocket токен для real-time уведомлений
   * 
   * Позволяет получать мгновенные уведомления о платежах
   * без необходимости поллинга.
   * 
   * Как получить:
   *   cd kazik-back
   *   npm run setup-ip-whitelist
   * 
   * Оставьте null если не используете WebSocket.
   */
  websocketToken: null,

  /**
   * Включить WebSocket подключение
   * 
   * Установите true если хотите получать real-time уведомления.
   * Требует настроенный websocketToken.
   */
  enableWebSocket: false,
};
